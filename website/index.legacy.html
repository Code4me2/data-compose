<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Compose - n8n Workflow Platform</title>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <!-- Original CSS -->
    <link rel="stylesheet" href="/css/app.css">
</head>
<body>
    <div class="app-container">
        <!-- Application Header -->
        <header class="app-header">
            <h1 class="app-title">Data Compose</h1>
            <p class="app-subtitle">n8n Workflow Automation with AI Integration</p>
        </header>

        <!-- Navigation -->
        <nav class="app-nav">
            <div class="nav-tabs">
                <button class="nav-tab active" data-section="home">
                    <i class="fas fa-home"></i> Home
                </button>
                <button class="nav-tab" data-section="chat">
                    <i class="fas fa-comments"></i> AI Chat
                </button>
                <button class="nav-tab" data-section="hierarchical-summarization">
                    <i class="fas fa-layer-group"></i> Hierarchical Summarization
                </button>
                <button class="nav-tab" data-section="workflows">
                    <i class="fas fa-project-diagram"></i> Workflows
                </button>
            </div>
        </nav>

        <!-- Main Content Container -->
        <main class="app-main">
            <!-- Home Section -->
            <section id="home" class="content-section active">
                <h2 class="section-title">Welcome to Data Compose</h2>
                <p class="section-subtitle">Your integrated platform for AI-powered workflow automation</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>ðŸ¤– AI Chat</h3>
                        <p>Interactive conversations with DeepSeek R1 AI model through n8n workflows</p>
                    </div>
                    <div class="feature-card">
                        <h3>ðŸ”„ Workflow Automation</h3>
                        <p>Create, manage, and monitor your n8n workflows with our integrated interface</p>
                    </div>
                    <div class="feature-card">
                        <h3>ðŸ”— System Integration</h3>
                        <p>Seamlessly connect with n8n through webhooks and REST APIs</p>
                    </div>
                </div>

                <div class="system-status">
                    <h3>System Status</h3>
                    <button id="test-connection" class="btn btn-primary">
                        <i class="fas fa-plug"></i> Test Connection
                    </button>
                    <div id="connection-status" class="status-display"></div>
                </div>
            </section>

            <!-- Chat Section -->
            <section id="chat" class="content-section">
                <h2 class="section-title">AI Chat Interface</h2>
                <p class="section-subtitle">Powered by DeepSeek R1 through n8n workflows</p>
                
                <div class="chat-container">
                    <div id="chat-messages" class="chat-messages"></div>
                    <div class="chat-input-container">
                        <input type="text" id="chat-input" class="chat-input" placeholder="Type your message here..." />
                        <button id="send-message" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Send
                        </button>
                    </div>
                    <div id="chat-status" class="chat-status"></div>
                </div>
            </section>

            <!-- Hierarchical Summarization Section -->
            <section id="hierarchical-summarization" class="content-section">
                <h2 class="section-title">Hierarchical Summarization</h2>
                <p class="section-subtitle">Visualize and navigate document hierarchies</p>
                
                <div class="visualization-container">
                    <div id="visualization-canvas"></div>
                    <div class="visualization-controls">
                        <button class="btn btn-secondary" onclick="window.app?.resetZoom()">
                            <i class="fas fa-compress"></i> Reset View
                        </button>
                    </div>
                </div>
            </section>

            <!-- Workflows Section -->
            <section id="workflows" class="content-section">
                <h2 class="section-title">n8n Workflows</h2>
                <p class="section-subtitle">Manage and monitor your automation workflows</p>
                
                <div class="workflows-container">
                    <div class="workflow-actions">
                        <button id="refresh-workflows" class="btn btn-primary">
                            <i class="fas fa-sync"></i> Refresh Workflows
                        </button>
                        <a href="/n8n/" target="_blank" class="btn btn-secondary">
                            <i class="fas fa-external-link-alt"></i> Open n8n Interface
                        </a>
                    </div>
                    <div id="workflows-list" class="workflows-list">
                        <p class="info-message">Click "Refresh Workflows" to load available workflows</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Original JavaScript -->
    <script src="/js/config.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>